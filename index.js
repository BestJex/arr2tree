module.exports=function(list,keyMap={KEY_ID:"MENU_CODE",KEY_PID:"PARENT_CODE",KEY_ORDER:"MENU_ORDER"}){const{KEY_ID:KEY_ID,KEY_PID:KEY_PID,KEY_ORDER:KEY_ORDER}=keyMap,roots=[];let childrenNode=[];list.forEach(item=>{void 0===item[KEY_PID]?roots.push(item):childrenNode.push(item)});for(const root of roots)findChild(root);function findChild(root){if(0>=childrenNode.length)return;let newChildNode=[];childrenNode.forEach(child=>{root[KEY_ID]===child[KEY_PID]?(void 0===root.children&&(root.children=[]),root.children.push(child),findChild(child)):newChildNode.push(child)}),void 0!==KEY_ORDER&&root.children&&1<root.children.length&&(root.children=root.children.sort((prev,current)=>prev[KEY_ORDER]-current[KEY_ORDER])),childrenNode=newChildNode}return roots};